<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./Binance.css">
</head>
<body>
    <!-- the html form for the conver -->
   <div class="opp">
    <div class="whole">
        <h1>BUSD to Naira Converter</h1>
        <p>Created by Eddie</p>
        <div class="input-whole">
            <label for="amount">Enter BUSD amount</label>
            <input type="number" id="amount" min="0" step="0.01">
            <button id="convert-btn">Convert</button>

        </div>
        <div id="result"></div>

    </div>
   </div>
</body>
<script>
    const convertBtn = document.getElementById('convert-btn');
    const amountInput = document.getElementById('amount');
    const resultDiv =  document.getElementById('result');

    convertBtn.addEventListener('click', () => {
        const amount = amountInput.value;
        const apiUrl = 'https://api.coingecko.com/api/v3/simple/price?ids=binance-usd&vs_currencies=ngn'


        fetch(apiUrl)
           .then(response => response.json())
           .then(data => {
            const exchangeRate = data ['binance-usd'].ngn;
            const convertAmount = amount * exchangeRate;
            resultDiv.innerText = `${amount} BUSD is approximately ${convertAmount} NGN`;

           })
           .catch(error => {
            console.log('An error occured:', error);
            resultDiv.innerText = 'Error occured. Please try again later'
           });
    });
</script>
</html>